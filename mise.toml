[tools]
node = "24.13.0"
pnpm = "10.4.1"
rust = "1.93.0"

[env]
_.file = ".secrets.env"


[tasks.commit]
description = "Commit with an auto-generated message"
run = "scripts/commit.sh"

[tasks.init]
description = "Initialize dependencies and repo"
run = [
    "pnpm install"
]

[tasks.test]
description = "Run automated tests"
run = [
    "cd src-tauri && cargo test"
]

[tasks.lint]
description = "Run linters"
run = [
    "pnpm exec vue-tsc --noEmit",
    "pnpm exec oxlint",
    "cd src-tauri && cargo check"
]

[tasks.build]
description = "Build project"
run = "pnpm exec tauri build"

[tasks.dev]
description = "Run in dev mode"
run = "pnpm exec tauri dev"

[tasks.docs_dev]
description = "Run VitePress dev server"
run = "pnpm exec vitepress dev docs"

[tasks.clean]
description = "Clean node_modules and builds"
run = [
    "cd src-tauri && cargo clean",
    "rm -rf node_modules dist",
]

