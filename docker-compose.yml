services:
  ci:
    build:
      context: .
      dockerfile: Dockerfile.ci
    volumes:
      - .:/workspace
    working_dir: /workspace
    user: "${UID?Set UID (use scripts/ci-compose)}:${GID?Set GID (use scripts/ci-compose)}"
    environment:
      CARGO_HOME: /workspace/.cargo
      RUSTUP_HOME: /usr/local/rustup
      PATH: /usr/local/rustup/toolchains/stable-x86_64-unknown-linux-gnu/bin:/usr/local/cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
